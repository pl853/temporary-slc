{"ast":null,"code":"import _classCallCheck from \"/home/system-user/Documents/Projects/site/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/system-user/Documents/Projects/site/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/system-user/Documents/Projects/site/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/system-user/Documents/Projects/site/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/system-user/Documents/Projects/site/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/system-user/Documents/Projects/site/src/components/Session/withAuthorization.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport AuthUserContext from './context';\nimport { withFirebase } from '../Firebase';\n\nvar withAuthorization = function withAuthorization(condition, authSituation) {\n  return function (Component) {\n    var WithAuthorization =\n    /*#__PURE__*/\n    function (_React$Component) {\n      _inherits(WithAuthorization, _React$Component);\n\n      function WithAuthorization() {\n        var _getPrototypeOf2;\n\n        var _this;\n\n        _classCallCheck(this, WithAuthorization);\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(WithAuthorization)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n        _this.notify = function (place) {\n          var color = Math.floor(Math.random() * 5 + 1);\n          var type;\n\n          switch (color) {\n            case 1:\n              type = \"primary\";\n              break;\n\n            case 2:\n              type = \"success\";\n              break;\n\n            case 3:\n              type = \"danger\";\n              break;\n\n            case 4:\n              type = \"warning\";\n              break;\n\n            case 5:\n              type = \"info\";\n              break;\n\n            default:\n              break;\n          }\n\n          var options = {};\n          options = {\n            place: place,\n            message: React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 69\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 70\n              },\n              __self: this\n            }, \"Welcome to \", React.createElement(\"b\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 71\n              },\n              __self: this\n            }, \"Black Dashboard React\"), \" - a beautiful premium admin for every web developer.\")),\n            type: type,\n            icon: \"tim-icons icon-bell-55\",\n            autoDismiss: 7\n          };\n\n          _this.refs.notificationAlert.notificationAlert(options);\n        };\n\n        return _this;\n      }\n\n      _createClass(WithAuthorization, [{\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          var _this2 = this;\n\n          var authSituation;\n\n          switch (authSituation) {\n            case 1:\n              type = \"primary\";\n              break;\n\n            case 2:\n              type = \"success\";\n              break;\n\n            case 3:\n              type = \"danger\";\n              break;\n\n            case 4:\n              type = \"warning\";\n              break;\n\n            case 5:\n              type = \"info\";\n              break;\n\n            default:\n              break;\n          }\n\n          this.listener = this.props.firebase.onAuthUserListener(function (authUser) {\n            if (!condition(authUser)) {\n              _this2.props.history.push('/home/start');\n            }\n          }, function () {\n            return _this2.props.history.push('/auth/login');\n          });\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.listener();\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this3 = this;\n\n          return React.createElement(AuthUserContext.Consumer, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89\n            },\n            __self: this\n          }, function (authUser) {\n            return condition(authUser) ? React.createElement(Component, Object.assign({}, _this3.props, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 91\n              },\n              __self: this\n            })) : null;\n          });\n        }\n      }]);\n\n      return WithAuthorization;\n    }(React.Component);\n\n    return compose(withRouter, withFirebase)(WithAuthorization);\n  };\n};\n\nexport default withAuthorization;","map":{"version":3,"sources":["/home/system-user/Documents/Projects/site/src/components/Session/withAuthorization.js"],"names":["React","withRouter","compose","AuthUserContext","withFirebase","withAuthorization","condition","authSituation","Component","WithAuthorization","notify","place","color","Math","floor","random","type","options","message","icon","autoDismiss","refs","notificationAlert","listener","props","firebase","onAuthUserListener","authUser","history","push"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\n\nimport AuthUserContext from './context';\nimport { withFirebase } from '../Firebase';\n\nconst withAuthorization = (condition,authSituation) => Component => {\n  class WithAuthorization extends React.Component {\n    componentDidMount() {\n      var authSituation;\n      switch (authSituation) {\n        case 1:\n          type = \"primary\";\n          break;\n        case 2:\n          type = \"success\";\n          break;\n        case 3:\n          type = \"danger\";\n          break;\n        case 4:\n          type = \"warning\";\n          break;\n        case 5:\n          type = \"info\";\n          break;\n        default:\n          break;\n      }\n      this.listener = this.props.firebase.onAuthUserListener(\n        authUser => {\n          if (!condition(authUser)) {\n            this.props.history.push('/home/start');\n          }\n        },\n        \n        () => this.props.history.push('/auth/login'),\n      );\n    }\n\n\n    notify = place => {\n      var color = Math.floor(Math.random() * 5 + 1);\n      var type;\n      switch (color) {\n        case 1:\n          type = \"primary\";\n          break;\n        case 2:\n          type = \"success\";\n          break;\n        case 3:\n          type = \"danger\";\n          break;\n        case 4:\n          type = \"warning\";\n          break;\n        case 5:\n          type = \"info\";\n          break;\n        default:\n          break;\n      }\n      var options = {};\n      options = {\n        place: place,\n        message: (\n          <div>\n            <div>\n              Welcome to <b>Black Dashboard React</b> - a beautiful premium admin\n              for every web developer.\n            </div>\n          </div>\n        ),\n        type: type,\n        icon: \"tim-icons icon-bell-55\",\n        autoDismiss: 7\n      };\n      this.refs.notificationAlert.notificationAlert(options);\n    };\n\n    componentWillUnmount() {\n      this.listener();\n    }\n\n    render() {\n      return (\n        <AuthUserContext.Consumer>\n          {authUser =>\n            condition(authUser) ? <Component {...this.props} /> : null\n          }\n        </AuthUserContext.Consumer>\n      );\n    }\n  }\n\n  return compose(\n    withRouter,\n    withFirebase,\n  )(WithAuthorization);\n};\n\nexport default withAuthorization;\n"]},"metadata":{},"sourceType":"module"}