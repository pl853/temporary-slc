{"ast":null,"code":"import _classCallCheck from \"/home/system-user/Documents/Projects/site/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/system-user/Documents/Projects/site/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/system-user/Documents/Projects/site/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/system-user/Documents/Projects/site/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/system-user/Documents/Projects/site/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/system-user/Documents/Projects/site/src/components/Session/whenLogged.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport AuthUserContext from './context';\nimport { withFirebase } from '../Firebase';\n\nvar whenLogged = function whenLogged(condition) {\n  return function (Component) {\n    var WhenLogged =\n    /*#__PURE__*/\n    function (_React$Component) {\n      _inherits(WhenLogged, _React$Component);\n\n      function WhenLogged() {\n        _classCallCheck(this, WhenLogged);\n\n        return _possibleConstructorReturn(this, _getPrototypeOf(WhenLogged).apply(this, arguments));\n      }\n\n      _createClass(WhenLogged, [{\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          var _this = this;\n\n          this.listener = this.props.firebase.onAuthUserListener(function (authUser) {\n            if (authUser) {\n              _this.props.history.push('/home/start');\n            }\n          }, function () {\n            return _this.props.history.push('/home/start');\n          });\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.listener();\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          return React.createElement(AuthUserContext.Consumer, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 27\n            },\n            __self: this\n          }, function (authUser) {\n            return authUser ? React.createElement(Component, Object.assign({}, _this2.props, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 29\n              },\n              __self: this\n            })) : null;\n          });\n        }\n      }]);\n\n      return WhenLogged;\n    }(React.Component);\n\n    return compose(withRouter, withFirebase)(WhenLogged);\n  };\n};\n\nexport default whenLogged;","map":{"version":3,"sources":["/home/system-user/Documents/Projects/site/src/components/Session/whenLogged.js"],"names":["React","withRouter","compose","AuthUserContext","withFirebase","whenLogged","condition","Component","WhenLogged","listener","props","firebase","onAuthUserListener","authUser","history","push"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,OAAT,QAAwB,WAAxB;AAEA,OAAOC,eAAP,MAA4B,WAA5B;AACA,SAASC,YAAT,QAA6B,aAA7B;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAAC,SAAS;AAAA,SAAI,UAAAC,SAAS,EAAI;AAAA,QACrCC,UADqC;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,4CAErB;AAAA;;AAClB,eAAKC,QAAL,GAAgB,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,kBAApB,CACd,UAAAC,QAAQ,EAAI;AACV,gBAAIA,QAAJ,EAAc;AACZ,cAAA,KAAI,CAACH,KAAL,CAAWI,OAAX,CAAmBC,IAAnB,CAAwB,aAAxB;AACD;AACF,WALa,EAMd;AAAA,mBAAM,KAAI,CAACL,KAAL,CAAWI,OAAX,CAAmBC,IAAnB,CAAwB,aAAxB,CAAN;AAAA,WANc,CAAhB;AAQD;AAXwC;AAAA;AAAA,+CAalB;AACrB,eAAKN,QAAL;AACD;AAfwC;AAAA;AAAA,iCAiBhC;AAAA;;AACP,iBACE,oBAAC,eAAD,CAAiB,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACG,UAAAI,QAAQ;AAAA,mBACPA,QAAQ,GAAG,oBAAC,SAAD,oBAAe,MAAI,CAACH,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAH,GAAmC,IADpC;AAAA,WADX,CADF;AAOD;AAzBwC;;AAAA;AAAA,MAClBV,KAAK,CAACO,SADY;;AA4B3C,WAAOL,OAAO,CACZD,UADY,EAEZG,YAFY,CAAP,CAGLI,UAHK,CAAP;AAID,GAhC2B;AAAA,CAA5B;;AAkCA,eAAeH,UAAf","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\n\nimport AuthUserContext from './context';\nimport { withFirebase } from '../Firebase';\n\nconst whenLogged = condition => Component => {\n  class WhenLogged extends React.Component {\n    componentDidMount() {\n      this.listener = this.props.firebase.onAuthUserListener(\n        authUser => {\n          if (authUser) {\n            this.props.history.push('/home/start');\n          }\n        },\n        () => this.props.history.push('/home/start'),\n      );\n    }\n\n    componentWillUnmount() {\n      this.listener();\n    }\n\n    render() {\n      return (\n        <AuthUserContext.Consumer>\n          {authUser =>\n            authUser ? <Component {...this.props} /> : null\n          }\n        </AuthUserContext.Consumer>\n      );\n    }\n  }\n\n  return compose(\n    withRouter,\n    withFirebase,\n  )(WhenLogged);\n};\n\nexport default whenLogged;\n"]},"metadata":{},"sourceType":"module"}